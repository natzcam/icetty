{
  "rules": {
    "peers": {
      "$uid": {
        "$id": {
          "offers": {
            ".read": "auth != null && auth.uid == $uid",
            ".write": "auth != null && auth.uid == $uid",
            "$offerId": {
              ".read": "auth != null && data.child('uid').val() == auth.uid",
              ".write": "auth != null && !data.exists() && newData.child('uid').val() == auth.uid"
            }
          }
        }
      }
    }
  }
}